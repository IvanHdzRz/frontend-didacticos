[{"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/index.js":"1","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/App.js":"2","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/routers/AppRouter.js":"3","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/DetailsDidactico.js":"4","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/SearchDidactico.js":"5","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/FormNewDidactico.js":"6","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/FloatButtonAdd.js":"7","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/InputText.js":"8","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SearchBar.js":"9","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SeccionTitle.js":"10","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Didactico.js":"11","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Select.js":"12","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/DropZone.js":"13","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/WarningLabel.js":"14","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SubmitButton.js":"15","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/PdfPreviewer.js":"16","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/TagContainer.js":"17","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Label.js":"18","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/env/apiurl.js":"19","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/getApiQueryParams.js":"20","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/hooks/useFetch.js":"21","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/validationSchemas/schemaDidactico.js":"22","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/WarningIcon.js":"23","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/fileToBufferArray.js":"24","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Button.js":"25","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/hooks/useCounter.js":"26","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/filterWhiteSpaces.js":"27","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/LoadingSpinner.js":"28","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/reducers/appReducer.js":"29","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Modal.js":"30","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/Login.js":"31","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/validationSchemas/schemaLogin.js":"32","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/routers/PrivateRoute.js":"33","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/appState/AppState.js":"34","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/context/appContext.js":"35","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/getAuthHeader.js":"36","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/types/appActions.js":"37","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/types/appPermissions.js":"38","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorConnection.js":"39","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorNoPermission.js":"40","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorServer.js":"41","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/hooks/useModal.js":"42","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/InformationScreen.js":"43","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorScreen.js":"44","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SucessScreen.js":"45","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ButtonWithIcon.js":"46"},{"size":236,"mtime":1630771729473,"results":"47","hashOfConfig":"48"},{"size":271,"mtime":1630555521640,"results":"49","hashOfConfig":"48"},{"size":1498,"mtime":1630628473855,"results":"50","hashOfConfig":"48"},{"size":7115,"mtime":1631137294460,"results":"51","hashOfConfig":"48"},{"size":3940,"mtime":1630793424950,"results":"52","hashOfConfig":"48"},{"size":8122,"mtime":1630866024263,"results":"53","hashOfConfig":"48"},{"size":562,"mtime":1630260348999,"results":"54","hashOfConfig":"48"},{"size":1085,"mtime":1630517650954,"results":"55","hashOfConfig":"48"},{"size":853,"mtime":1630260348999,"results":"56","hashOfConfig":"48"},{"size":191,"mtime":1630260348999,"results":"57","hashOfConfig":"48"},{"size":1051,"mtime":1630260348999,"results":"58","hashOfConfig":"48"},{"size":1481,"mtime":1630260348999,"results":"59","hashOfConfig":"48"},{"size":2616,"mtime":1630260348999,"results":"60","hashOfConfig":"48"},{"size":288,"mtime":1630260348999,"results":"61","hashOfConfig":"48"},{"size":684,"mtime":1630518533455,"results":"62","hashOfConfig":"48"},{"size":5333,"mtime":1630260348999,"results":"63","hashOfConfig":"48"},{"size":984,"mtime":1630260348999,"results":"64","hashOfConfig":"48"},{"size":256,"mtime":1630260348999,"results":"65","hashOfConfig":"48"},{"size":67,"mtime":1633378327144,"results":"66","hashOfConfig":"48"},{"size":191,"mtime":1630260348999,"results":"67","hashOfConfig":"48"},{"size":2229,"mtime":1630781312364,"results":"68","hashOfConfig":"48"},{"size":925,"mtime":1630260348999,"results":"69","hashOfConfig":"48"},{"size":222,"mtime":1630260348999,"results":"70","hashOfConfig":"48"},{"size":373,"mtime":1630260348999,"results":"71","hashOfConfig":"48"},{"size":392,"mtime":1630260348999,"results":"72","hashOfConfig":"48"},{"size":1099,"mtime":1630260348999,"results":"73","hashOfConfig":"48"},{"size":136,"mtime":1630260348999,"results":"74","hashOfConfig":"48"},{"size":315,"mtime":1630362219952,"results":"75","hashOfConfig":"48"},{"size":920,"mtime":1633375758721,"results":"76","hashOfConfig":"48"},{"size":554,"mtime":1631134851107,"results":"77","hashOfConfig":"48"},{"size":3723,"mtime":1633378179915,"results":"78","hashOfConfig":"48"},{"size":306,"mtime":1630518190273,"results":"79","hashOfConfig":"48"},{"size":718,"mtime":1630628338782,"results":"80","hashOfConfig":"48"},{"size":1809,"mtime":1633377070082,"results":"81","hashOfConfig":"48"},{"size":99,"mtime":1630552526542,"results":"82","hashOfConfig":"48"},{"size":258,"mtime":1630865104907,"results":"83","hashOfConfig":"48"},{"size":192,"mtime":1633375620448,"results":"84","hashOfConfig":"48"},{"size":136,"mtime":1630626934467,"results":"85","hashOfConfig":"48"},{"size":471,"mtime":1630791302683,"results":"86","hashOfConfig":"48"},{"size":430,"mtime":1630791305803,"results":"87","hashOfConfig":"48"},{"size":399,"mtime":1630791304579,"results":"88","hashOfConfig":"48"},{"size":301,"mtime":1630772104503,"results":"89","hashOfConfig":"48"},{"size":1475,"mtime":1630791283739,"results":"90","hashOfConfig":"48"},{"size":831,"mtime":1630793500434,"results":"91","hashOfConfig":"48"},{"size":343,"mtime":1630813932036,"results":"92","hashOfConfig":"48"},{"size":509,"mtime":1631133871752,"results":"93","hashOfConfig":"48"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},"fi6udn",{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"96"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"96"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"119","usedDeprecatedRules":"96"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"96"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"96"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184","usedDeprecatedRules":"96"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/index.js",[],["193","194"],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/App.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/routers/AppRouter.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/DetailsDidactico.js",["195","196","197"],"import React, { useContext, useEffect, useState } from 'react'\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {SeccionTitle} from '../components/SeccionTitle'\nimport {apiUrl} from '../env/apiurl'\nimport { useFetch } from '../hooks/useFetch'\nimport printIcon from '../assets/icons/printing.png'\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { ErrorScreen } from '../components/ErrorScreen';\nimport AppContext from '../context/appContext';\nimport { getAuthHeader } from '../helper/getAuthHeader';\nimport { ButtonWithIcon } from '../components/ButtonWithIcon';\nimport deleteIcon from '../assets/icons/trash.png'\nimport editIcon from '../assets/icons/pencil.png'\nimport { useModal } from '../hooks/useModal';\nimport { Modal } from '../components/Modal';\nimport { InformationScreen } from '../components/InformationScreen';\nimport iconSuccess from '../assets/icons/checked.png'\nexport const DetailsDidactico = () => {\n    const {state}= useContext(AppContext)\n    const {authToken}=state\n    const query = useQuery();\n    const numero=query.get('numero')\n    const tipo=query.get('tipo')\n    const history= useHistory()\n    const [deleteState, setdeleteState] = useState({deleteInProgress:false,deleteStatus:null,deleteError:null});\n    const {deleteStatus,deleteInProgress,deleteError}=deleteState\n    const[isVisible,openModal,closeModal] = useModal({visible:false})\n    const fetchOptions={\n        method: 'GET',\n        headers: getAuthHeader({authToken}),\n        redirect: 'follow'\n    }\n    const {data,loading,error,statusCode,refresh}=useFetch(`${apiUrl}/didacticos/id?tipo=${tipo}&numero=${numero}`,fetchOptions)\n    \n    //redirige al inicio\n    useEffect(() => {\n        //si se logro borrar el didactico y el modal se cerro\n        //redirige al inicio\n        if(deleteStatus===201&&!isVisible){\n            history.push(\"/\");\n        }\n    }, [deleteStatus,isVisible])\n\n    const onDelete=(e)=>{\n        e.preventDefault();\n        openModal();\n        setdeleteState({deleteInProgress:true,deleteStatus:null,deleteError:null})\n        const req=fetch(`${apiUrl}/didacticos/`,{\n            ...fetchOptions,\n            method:\"DELETE\",\n            body:JSON.stringify({numero,tipo})\n        }).then((res)=>{\n            console.log(res)\n            setdeleteState({deleteInProgress:false,deleteStatus:res.status,deleteError:null})\n        }).catch((e)=>{\n            setdeleteState({deleteInProgress:false,deleteStatus:null,deleteError:e})\n        })\n        \n    }\n\n    const {nombre,img,pdf,existencias,nivelStock,tags}=data || {}    \n    return (\n        <div className=\"bg-gray-100 min-h-screen pb-8 \">\n            {\n                loading?\n                    <LoadingSpinner />:\n                    error||statusCode!==200?\n                        <div className=\"w-full min-h-screen flex justify-center items-center\">\n                            <ErrorScreen error={error} statusCode={statusCode} onRetry={refresh}/>\n                        </div>\n                        :\n                        <div className=\"p-2 grid grid-cols-12 gap-y-4 \">\n                            <div className=\"col-span-12\">\n                                <SeccionTitle title={`${nombre}`}/>\n                            </div>\n                            <div className=\"col-span-12 flex flex-row items-center justify-between\">\n                                <p className=\"col-span-6 capitalize text-xl text-gray-700\">\n                                    {`${tipo} # ${numero}`}\n                                </p>\n                                <button\n                                    className=\"w-40 px-2 py-1 flex justify-center items-center bg-pink-500 rounded border-pink-400 border-2 text-center font-bold text-white \"\n                                    onClick={()=>{window.open(pdf,'_blank')}}\n                                >\n                                    <img src={printIcon} alt=\"printer\" className=\"w-6 h-6 mx-2\" />\n                                    imprimir\n                                </button>\n                            </div>\n                            \n                            <img src={img} className=\"col-span-12 place-self-center\" alt='preview didactico' />\n                            \n                            <div className=\"col-span-12 flex flex-row space-x-2 justify-between \">\n                                <div className=\"justify-self-start flex items-center\">\n                                    <div className={` w-2 h-2 m-1 rounded-full ${nivelStock==='alto'?'bg-green-700':nivelStock==='medio'?'bg-yellow-500':'bg-red-700' } `} >\n                                    </div>\n                                    <p className='text-xl'>{existencias} pzs</p>\n                                </div>\n                                <div className=\"flex flex-row space-x-2 \">\n                                    {/* <ButtonWithIcon text={\"Editar\"} icon={editIcon} /> */}\n                                    <ButtonWithIcon text={\"Eliminar\"} icon={deleteIcon} onClick={onDelete}/>\n                                </div>\n                            </div>\n\n                            \n                            <h3 className=\"cols-span-12 font-bold text-2xl text-indigo-900 capitalize\">\n                                tags:\n                            </h3>\n                            <div className=\"col-span-12 flex flex-wrap justify-start \">\n                                {\n                                    tags.map(({id,tag})=>\n                                        <div \n                                            key={id} \n                                            className=\"bg-white border-pink-400 border-2 rounded-full px-2 py-1 m-2\"\n                                        > \n                                            {tag}\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        </div>\n                }\n                {\n                    isVisible&&\n                    <Modal close={closeModal} closeable={!deleteInProgress}>\n                        {\n                            deleteInProgress?\n                                <div>\n                                    <h2>Borrando...</h2>\n                                    <LoadingSpinner />\n                                </div>:\n                                deleteStatus===201?\n                                    <InformationScreen \n                                        icon={iconSuccess} \n                                        title=\"Listo!\" \n                                        message=\"didactico borrado con exito\"\n                                        \n                                    />:\n                                    <ErrorScreen error={deleteError} statusCode={deleteStatus} />\n                        }\n                    </Modal>\n                \n                }\n            </div>\n    )\n}\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/SearchDidactico.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/FormNewDidactico.js",["198"],"import React, { useContext, useState } from 'react'\nimport {InputText} from '../components/InputText'\nimport {SeccionTitle} from '../components/SeccionTitle'\nimport {Formik,Form,Field} from 'formik'\nimport {schemaDidactico} from '../helper/validationSchemas/schemaDidactico'\nimport { Select } from '../components/Select'\nimport {DropZone} from '../components/DropZone'\nimport { WarningLabel } from '../components/WarningLabel'\nimport { SubmitButton } from '../components/SubmitButton'\nimport { PdfPreviewer } from '../components/PdfPreviewer'\nimport { Label } from '../components/Label'\nimport {apiUrl} from '../env/apiurl'\nimport { TagContainer } from '../components/TagContainer'\nimport { useFetch } from '../hooks/useFetch'\nimport { LoadingSpinner } from '../components/LoadingSpinner'\nimport {initialFormDidacticoValues} from '../reducers/appReducer'\nimport { InformationScreen } from '../components/InformationScreen'\nimport { Modal } from '../components/Modal'\nimport { getAuthHeader } from '../helper/getAuthHeader'\nimport AppContext from '../context/appContext'\nimport { ErrorScreen } from '../components/ErrorScreen'\nimport { useModal } from '../hooks/useModal'\nimport { SucessScreen } from '../components/SucessScreen'\n\nexport const FormNewDidactico = ({edit=false,initialValues=initialFormDidacticoValues}) => {\n    \n    const[modalIsVisible,openModal,closeModal]= useModal({visible:false})\n    const [submitStatus, setsubmitStatus] = useState({submitError:false,submitStatusCode:null})\n    const {submitError,submitStatusCode}=submitStatus\n    const {state}= useContext(AppContext)\n    const {authToken}=state\n    const formInitialValue=initialValues\n    const fetchOptions={\n        method: 'GET',\n        headers: getAuthHeader({authToken}),\n        redirect: 'follow'\n    }\n    const {data:options,loading,error,statusCode,refresh}=useFetch(`${apiUrl}/tipos`,fetchOptions)\n    \n    const handleSubmit=(values, {setSubmitting,resetForm}) =>{\n        const {existencias,numero,tipo,titulo:nombre,pdf,img,tags}=values\n        const didactico={\n            existencias,\n            numero,\n            tipo,\n            nombre,\n            tags: tags\n                .trim()\n                .split(' ')\n                .filter(tag=>tag!==' '&&tag!=='')\n        }\n        const formData=new FormData();\n        \n        formData.append(\"didactico\",JSON.stringify(didactico))\n        formData.append(\"pdf\",pdf,\"didactico_pdf.pdf\")\n        formData.append(\"img\",img,\"didactico_img.png\")\n        const headers=new Headers();\n        headers.append(\"Authorization\", `Bearer ${authToken}`)\n\n        const options={\n            method:edit?'PUT':'POST',\n            redirect:'follow',\n            headers:headers,\n            body:formData\n        }\n        \n        \n        fetch(`${apiUrl}/didacticos`,options)\n            .then(res=>{\n                resetForm();\n                setSubmitting(false)\n                setsubmitStatus({submitError:false,submitStatusCode:res.status})\n                openModal();\n            }).catch(e=>{\n                setSubmitting(false)\n                setsubmitStatus({submitError:true,submitStatusCode:null})\n                openModal();\n            })\n            \n    }\n\n    return (\n        <div className=\"bg-gray-100 min-h-screen pb-8\">\n            <SeccionTitle title={edit?\"Editar Didactico\":\"Agregar nuevo didactico\"}/>\n            {loading?\n                <LoadingSpinner/>:\n                error||statusCode!==200?\n                    <div className=\"w-full min-h-screen flex justify-center items-center\">\n                        <ErrorScreen error={error} statusCode={statusCode} onRetry={refresh}/>\n                    </div>\n                    :\n                    <Formik initialValues={formInitialValue} onSubmit={handleSubmit} validationSchema= {schemaDidactico} >\n                        {({errors,touched,setFieldValue,setFieldError,setFieldTouched,values,isSubmitting,submitForm})=>(\n                            <>\n                            <Form className=\"mt-8  w-11/12\tmx-auto rounded-lg px-4 py-8 grid grid-cols-2 gap-x-4 gap-y-6 bg-white\">\n                                \n                                <Field name=\"numero\" component={InputText} label=\"Numero\" disabled={isSubmitting||edit}/>\n                                <Field \n                                    name=\"tipo\"\n                                    label=\"tipo\"\n                                    component={Select}\n                                    options={\n                                        options.map(({id,nombre})=>{\n                                            return {name:nombre,value:id}\n                                        })\n                                    } \n                                    disabled={isSubmitting || edit}\n                                /> \n                                <div className='col-span-2'>\n                                    <Field name=\"titulo\" component={InputText} label=\"titulo\" disabled={isSubmitting}/>\n                                </div>\n                                <Field  name=\"existencias\" component={InputText} label=\"existencias\" disabled={isSubmitting}/> \n                                {console.log(values)}\n                                {\n                                    values.pdf?\n                                        <div className=\"col-span-2\">\n                                            <Label forName=\"preview\" label=\"Selecciona una vista previa\"/>\n                                            <PdfPreviewer file={values.pdf} fileName=\"pdf\" blobName=\"img\" setFieldValue={setFieldValue} disabled={isSubmitting}/>\n                                            {\n                                                errors.img && touched.img &&\n                                                <WarningLabel forName=\"pdf\" warnMessage={errors.img} />\n                                            }\n                                        </div>\n                                        :\n                                        <div className=\"col-span-2\">\n                                            <DropZone \n                                                onSelectFile={setFieldValue} \n                                                onFileError={setFieldError}\n                                                onTouchDropzone={setFieldTouched} \n                                                fileName=\"pdf\"\n                                            />\n                                            {\n                                                errors.pdf && touched.pdf &&\n                                                <WarningLabel forName=\"pdf\" warnMessage={errors.pdf} />\n                                            }\n                                        </div>\n                                }\n                                <div className=\"col-span-2\">\n                                    <Field  name=\"tags\" component={TagContainer} label=\"Tags\" disabled={isSubmitting}/>\n                                </div>\n\n                                <div className=\"col-span-2\">\n                                    <SubmitButton isSubmiting={isSubmitting} text=\"guardar\" onSubmitText=\"guardando\" />\n                                </div>\n                            </Form>\n                            {\n                                modalIsVisible&&\n                                    <Modal close={closeModal}>\n                                        {\n                                            submitError?\n                                                <ErrorScreen error={submitError} statusCode={submitStatusCode} onRetry={submitForm}/>:\n                                                <SucessScreen title=\"Guardado\" message=\"La informacion del didactico se ha guardado con exito\"/>\n                                        }\n                                    </Modal>\n                            }\n                            </>\n                        )}\n                    </Formik>\n                    \n            }\n            \n        </div>\n    )\n}\n","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/FloatButtonAdd.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/InputText.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SearchBar.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SeccionTitle.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Didactico.js",["199"],"import React from 'react'\n\nexport const Didactico = ({number,title,type,stock,stockLevel,delayAnimation}) => {\n    \n    \n    return (\n        <div className=\"animate-showUp opacity-0 bg-white mb-1 grid grid-cols-12 place-items-center py-4  px-2 gap-x-2 \" style={{['--order']:delayAnimation}} >\n            <p className='col-span-1 text-gray-500'> \n                {number}\n            </p>\n            <h3 className='w-full col-span-6 place-self-start text-indigo-900 font-bold  capitalize truncate'>\n                {title}\n            </h3>\n            <div className='col-span-2 rounded-full border-solid border-2 py-1 px-2 border-blue-500 text-blue-500 uppercase text-xs'>\n                {type}\n            </div>\n            <div className='col-span-3 flex items-center'>\n                <div className={` w-2 h-2 m-1 rounded-full ${stockLevel==='alto'?'bg-green-700':stockLevel==='medio'?'bg-yellow-500':'bg-red-700' } `} >\n                </div>\n                <p className='text-xs'>{stock} pzs</p>\n            </div>\n        </div>\n    )\n}\n","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Select.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/DropZone.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/WarningLabel.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SubmitButton.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/PdfPreviewer.js",["200"],"import React, {useEffect,  useRef,  useState } from 'react'\nimport * as pdfjsLib from \"pdfjs-dist/build/pdf\";\nimport pdfjsWorker from \"pdfjs-dist/build/pdf.worker.entry\";\nimport { fileToBufferArray } from '../helper/fileToBufferArray';\nimport { useCounter } from '../hooks/useCounter';\nimport arrowIcon from '../assets/icons/right-arrow.png'\nimport rotateIcon from '../assets/icons/rotate.png'\nimport closeIcon from '../assets/icons/close.png'\nimport { Button } from './Button';\n\n\n\n\n\nexport const PdfPreviewer = ({file,fileName,blobName,setFieldValue,disabled}) => {\n    pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n    /*states*/\n    const [pdfDoc, setpdfDoc] = useState(null)\n    //change page of document to render\n    const [counter,prevPage,nextPage,,setPages]=useCounter({min:1,max:1,initial:1}) \n    //change orientacion of page\n    const[rotate,,nextRotation]=useCounter({min:0,max:3,initial:0})  \n    const [imgUrl, setimgUrl] = useState(null)\n    \n    const {count:currentPage}=counter\n    const {count:currentRotation}=rotate\n    \n    \n    /*flag to trigger render only when ends other render*/\n    const isRendering=useRef(false)\n    /*DOM references to fit pdf size in container*/\n    const container = useRef(null)\n    const canvasRef=useRef()\n    /*store number of compenent renders*/\n    const renderizados = useRef(0)\n    \n\n    const handleClosePreview=()=>{\n        //set a the value of pdf file to null, this will close preview\n        //and user can choose other file in case he select a incorrect\n        setFieldValue(fileName,null)\n        setFieldValue(blobName,null)\n    }\n    const handleConvertCanvasToBlob=()=>{\n        canvasRef.current.toBlob(blob=>{\n            setFieldValue(blobName,blob)\n        })\n    }\n\n   //in first render will load pdf\n    useEffect(() => {\n        const getPdf =async(file) =>{\n            const buffer=await fileToBufferArray(file)\n            const pdf= await pdfjsLib.getDocument(buffer).promise\n            const {numPages}=pdf\n            setpdfDoc(pdf)\n            setPages(numPages)\n        }\n        getPdf(file);\n    },[file])\n\n    //when chenges pdf, page or orientation will trigger a render \n   useEffect(() => {\n        const renderPage=async()=>{\n            isRendering.current=true\n            const  docPage= await pdfDoc.getPage(currentPage)\n            const originalScale=1\n            const viewport=docPage.getViewport({scale:originalScale,rotation:currentRotation*90})\n            const context=canvasRef.current.getContext('2d')\n            canvasRef.current.height =viewport.height;\n            canvasRef.current.width = viewport.width;\n            //rendering page \n            const renderContext = {canvasContext: context,viewport: viewport}\n            await docPage.render(renderContext).promise\n            const imgUrl=canvasRef.current.toDataURL();\n            setimgUrl(imgUrl)\n            isRendering.current=false\n        }\n        //if pdf is ready and other renders task has ended, then render\n        pdfDoc&&!isRendering.current&&renderPage()\n   },[currentPage,pdfDoc,currentRotation])\n    \n    \n    console.log(renderizados.current)\n    renderizados.current=renderizados.current+1\n    \n    return( \n        <div className=\"w-full \">\n            <div  \n                ref={container} \n                name={fileName} \n                className={`border-4 border-dashed outline-none border-pink-300 rounded-xl flex justify-center items-center h-60 mb-4 bg-pink-50 relative`}\n            >\n                {\n                    !pdfDoc? \n                        <h1>cargando</h1>: \n                        <div className=\"h-full w-full\">\n                            <canvas ref={canvasRef} className=\"hidden\"/>\n                            <img src={imgUrl} alt=\"preview\" className=\"h-full w-full object-contain\"/>\n                            <div className=\"space-x-4 flex-row absolute bottom-0 right-0 left-0\">\n                                <Button onClick={prevPage} disabled={disabled}>\n                                    <img src={arrowIcon} alt=\"prev icon\" className=\"w-6 transform rotate-180\" /> \n                                </Button>\n                                <Button onClick={nextPage} disabled={disabled}>\n                                    <img src={arrowIcon} alt=\"next icon\" className=\"w-6\" /> \n                                </Button>\n                                <Button onClick={nextRotation} disabled={disabled}>\n                                    <img src={rotateIcon} alt=\"rotate icon\" className=\"w-6\" /> \n                                </Button>\n                                \n                            </div>\n                            <button onClick={handleClosePreview} className=\"absolute right-2 top-2\" disabled={disabled}>\n                                    <img src={closeIcon} alt=\"close icon\" className=\"w-6\" /> \n                            </button>\n                        </div>\n                            \n                }\n            </div>\n            {\n                pdfDoc&&\n                    <div className=\"static\">\n                        <Button onClick={handleConvertCanvasToBlob} disabled={disabled} >\n                            Elegir esta vista previa\n                        </Button>\n                    </div>\n            }\n        </div>\n    )\n}\n","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/TagContainer.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Label.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/env/apiurl.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/getApiQueryParams.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/hooks/useFetch.js",["201"],"import { useState, useEffect, useRef } from 'react';\n\nconst  headers = new Headers();\nheaders.append(\"Content-Type\", \"application/json\");\n\nconst defaultOptions={\n    method: 'GET',\n    headers: headers,\n    redirect: 'follow'\n};\n\n\nexport const useFetch = ( url,options=defaultOptions) => {\n    \n    const isMounted = useRef(true);\n    const [state, setState] = useState({ data: null, loading: true, error: null });\n    const [fetchAgain, setfetchAgain] = useState(true)\n    const refresh=()=>{\n        setfetchAgain((prevState)=>!prevState)\n    }\n    \n    useEffect( () => {\n        isMounted.current=true\n        return () => {\n            isMounted.current = false;\n        }\n    }, [])\n\n\n    useEffect( () => {\n\n        setState({ data: null, loading: true, error: null });\n        const fetchData=async()=>{\n            try{\n                const req=await fetch(url,options)\n                const statusCode=req.status;\n                const data=await req.json();\n                if(isMounted.current){\n                    setState({\n                        loading: false,\n                        error: null,\n                        data,\n                        statusCode: statusCode\n                    });\n                }\n            }catch(e){\n                if(isMounted.current){\n                    setState({\n                        data: null,\n                        loading: false,\n                        error: e,\n                        statusCode:null\n                    })\n                }\n            }\n            \n        }\n\n        url!==null&&fetchData();\n\n        /* if(url!==null){\n            fetch( url,options )\n            .then( resp => resp.json() )\n            .then( data => {\n\n                if ( isMounted.current ) {\n                    setState({\n                        loading: false,\n                        error: null,\n                        data\n                    });\n                }\n\n            })\n            .catch( (e) => {\n                setState({\n                    data: null,\n                    loading: false,\n                    error: e\n                })\n            })\n\n        } */\n\n        \n    },[url,fetchAgain])\n\n    return {...state,refresh};\n}","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/validationSchemas/schemaDidactico.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/WarningIcon.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/fileToBufferArray.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Button.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/hooks/useCounter.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/filterWhiteSpaces.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/LoadingSpinner.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/reducers/appReducer.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/Modal.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/views/Login.js",["202","203"],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/validationSchemas/schemaLogin.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/routers/PrivateRoute.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/appState/AppState.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/context/appContext.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/helper/getAuthHeader.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/types/appActions.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/types/appPermissions.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorConnection.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorNoPermission.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorServer.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/hooks/useModal.js",["204"],"import React, { useState } from 'react'\n\nexport const useModal = ({visible=false}) => {\n    const [isVisible, setisVisible] = useState(visible)\n\n    const onClose=()=>{\n        setisVisible(false);\n    }\n    const onOpen=()=>{\n        setisVisible(true);\n    }\n    return [isVisible,onOpen,onClose]\n}\n","/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/InformationScreen.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ErrorScreen.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/SucessScreen.js",[],"/home/ivan/Documents/web/didacticos/frontend-didacticos/src/components/ButtonWithIcon.js",[],{"ruleId":"205","replacedBy":"206"},{"ruleId":"207","replacedBy":"208"},{"ruleId":"209","severity":1,"message":"210","line":13,"column":8,"nodeType":"211","messageId":"212","endLine":13,"endColumn":16},{"ruleId":"213","severity":1,"message":"214","line":42,"column":8,"nodeType":"215","endLine":42,"endColumn":32,"suggestions":"216"},{"ruleId":"209","severity":1,"message":"217","line":48,"column":15,"nodeType":"211","messageId":"212","endLine":48,"endColumn":18},{"ruleId":"209","severity":1,"message":"218","line":17,"column":10,"nodeType":"211","messageId":"212","endLine":17,"endColumn":27},{"ruleId":"219","severity":1,"message":"220","line":7,"column":130,"nodeType":"221","messageId":"222","endLine":7,"endColumn":156,"fix":"223"},{"ruleId":"213","severity":1,"message":"224","line":60,"column":7,"nodeType":"215","endLine":60,"endColumn":13,"suggestions":"225"},{"ruleId":"213","severity":1,"message":"226","line":86,"column":7,"nodeType":"215","endLine":86,"endColumn":23,"suggestions":"227"},{"ruleId":"228","severity":1,"message":"229","line":42,"column":34,"nodeType":"230","messageId":"231","endLine":42,"endColumn":36},{"ruleId":"228","severity":1,"message":"229","line":42,"column":57,"nodeType":"230","messageId":"231","endLine":42,"endColumn":59},{"ruleId":"209","severity":1,"message":"232","line":1,"column":8,"nodeType":"211","messageId":"212","endLine":1,"endColumn":13},"no-native-reassign",["233"],"no-negated-in-lhs",["234"],"no-unused-vars","'editIcon' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["235"],"'req' is assigned a value but never used.","'InformationScreen' is defined but never used.","no-useless-computed-key","Unnecessarily computed property ['--order'] found.","Property","unnecessarilyComputedProperty",{"range":"236","text":"237"},"React Hook useEffect has a missing dependency: 'setPages'. Either include it or remove the dependency array.",["238"],"React Hook useEffect has a missing dependency: 'options'. Either include it or remove the dependency array.",["239"],"no-mixed-operators","Unexpected mix of '||' and '&&'.","LogicalExpression","unexpectedMixedOperator","'React' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"240","fix":"241"},[263,274],"'--order'",{"desc":"242","fix":"243"},{"desc":"244","fix":"245"},"Update the dependencies array to be: [deleteStatus, history, isVisible]",{"range":"246","text":"247"},"Update the dependencies array to be: [file, setPages]",{"range":"248","text":"249"},"Update the dependencies array to be: [url, fetchAgain, options]",{"range":"250","text":"251"},[1896,1920],"[deleteStatus, history, isVisible]",[2094,2100],"[file, setPages]",[2178,2194],"[url, fetchAgain, options]"]